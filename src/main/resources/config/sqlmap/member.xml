<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.nmcat.repository.mapper.MemberMapper">
	<resultMap id="memberMap" type="Member">
		<result column="id" property="id"/>
		<result column="name" property="name"/>
		<result column="pass" property="pass"/>
		<result column="email" property="email"/>
		<result column="category" property="category"/>
		<result column="image_name" property="imageName"/>
		<result column="image_path" property="imagePath"/>
		<result column="image_size" property="imageSize"/>
		<result column="score" property="score"/>
		<result column="image_ori_name" property="imageOriName"/>
	</resultMap>

	<insert id="insertNewMemberNofile" parameterType="Member">
		insert into mn_member (
			id, name, pass, email, image_name, image_path, image_size, category, image_ori_name
			) values (
				#{id}, 
				#{name}, 
				#{pass}, 
				#{email},
				#{imageName},
				#{imagePath},
				#{imageSize},
				#{category},
				#{imageOriName}
			)
	</insert>
	
	<select id="selectMemeberIdandPass" parameterType="Login" resultMap="memberMap">
		select * from mn_member
			where id = #{id} and
				  pass = #{pass}
				  
	</select>
	
	<select id="selectId" parameterType="string" resultType="string">
		select id
			from mn_member
			where id = #{id}
	</select>
	
	<!-- 로그인시 + 10점 -->
	<update id="updateScore" parameterType="string">
		update mn_member
			set score = score + 10
			where id = #{id}
	</update>
	
</mapper>