<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.nmcat.repository.mapper.MainMapper">
<!-- 커뮤니티 -->
<resultMap id="comMap" type="CommunityBoard">
		<result column="com_no" property="comNo" />
		<result column="com_title" property="comTitle" />
		<result column="com_writer" property="comWriter" />
		<result column="com_content" property="comContent" />
		<result column="com_category" property="comCategory" />
		<result column="com_rec_cnt" property="comRecCnt" />
		<result column="com_view_cnt" property="comViewCnt" />
		<result column="com_reg_date" property="comRegDate" />
</resultMap>

<!-- 유튜브 -->
<resultMap id="ytbMap" type="Youtube">
	<result column="ytb_no" property="ytbNo" />
	<result column="ytb_writer" property="ytbWriter" />
	<result column="ytb_keyword" property="ytbKeyword" />
	<result column="ytb_url" property="ytbURL" />
	<result column="ytb_reg_date" property="ytbRegDate" />
</resultMap>

<!-- 크라우드펀딩 -->
<resultMap id="crowdMap" type="Crowd">
		<result column="cr_no" property="crNo" />
		<result column="cr_writer" property="crWriter" />
		<result column="cr_title" property="crTitle" />
		<result column="cr_content" property="crContent" />
		<result column="cr_now_money" property="crNowMoney" />
		<result column="cr_goal_money" property="crGoalMoney" />
		<result column="cr_start_day" property="crStartDay" />		
		<result column="cr_end_day" property="crEndDay" />
		<result column="cr_like_cnt" property="crLikeCnt" />
		<result column="cr_reg_date" property="crRegDate" />
		<result column="cr_view_cnt" property="crViewCnt" />
		<result column="cr_file_name" property="crFileName" />
		<result column="cr_file_path" property="crFilePath" />
		<result column="cr_file_ori_name" property="crFileOriName" />
	</resultMap>

	<resultMap type="DiaryBoard" id="boardMap">
		<result column="dr_no" property="drNo"/>
		<result column="dr_writer" property="drWriter"/>
		<result column="dr_title" property="drTitle"/>
		<result column="dr_content" property="drContent"/>
		<result column="dr_reg_date_time" property="drRegDateTime"/>
		<result column="dr_share" property="drShare"/>
		<result column="dr_date" property="drDate"/>
	</resultMap>



<select id = "selectComBoardRegDate" resultMap = "comMap">
select * from mn_com
		 order by com_no desc
		 limit 0, 4
</select>

<select id = "selectDiaryBoardRegDate" resultMap = "boardMap">
select * from mn_diary
		 where dr_share = '1'
		 order by dr_no desc
		 limit 0, 4
</select>

<!-- 유튜브 -->
<select id="selectYoutubeInfo" resultMap="ytbMap">
	select * 
	  from mn_ytb
	 group by ytb_keyword
</select>

<!-- 크라우드펀딩 -->
<select id="selectCrowdInfo" resultMap="crowdMap">
	select * 
	  from mn_crowd 
	 where cr_end_day > NOW() 
	 order by cr_end_day asc
	 limit 2
</select>

</mapper>