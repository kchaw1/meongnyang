<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.nmcat.repository.mapper.CrowdMapper">
	<resultMap id="crowdMap" type="Crowd">
		<result column="cr_no" property="crNo" />
		<result column="cr_writer" property="crWriter" />
		<result column="cr_title" property="crTitle" />
		<result column="cr_content" property="crContent" />
		<result column="cr_now_money" property="crNowMoney" />
		<result column="cr_goal_money" property="crGoalMoney" />
		<result column="cr_start_day" property="crStartDay" />		
		<result column="cr_end_day" property="crEndDay" />
		<result column="cr_like_cnt" property="crLikeCnt" />
		<result column="cr_reg_date" property="crRegDate" />
		<result column="cr_view_cnt" property="crViewCnt" />
		<result column="cr_file_name" property="crFileName" />
		<result column="cr_file_path" property="crFilePath" />
		<result column="cr_file_ori_name" property="crFileOriName" />
		<result column="cr_end_yn" property="crEndYN" />
	</resultMap>

<!-- 크라우드펀딩 등록 -->
<insert id="insertCrowd" parameterType="Crowd">
	insert into mn_crowd(cr_writer, cr_title, cr_content, cr_goal_money, cr_start_day, cr_end_day, cr_file_name, cr_file_path, cr_file_ori_name) 
	     values(#{crWriter}, #{crTitle}, #{crContent}, #{crGoalMoney}, #{crStartDay}, #{crEndDay}, #{crFileName}, #{crFilePath}, #{crFileOriName})
</insert>

<!-- 크라우드펀딩 리스트 -->
<select id="selectCrowdList" parameterType="Crowd" resultMap="crowdMap">
	select *
	  from mn_crowd 
	 where cr_end_yn = 'n'
	 order by cr_end_day asc
	 limit #{begin}, 8 
</select>

<!-- 크라우드 펀딩 디테일 -->
<select id="selectCrowdDetail" parameterType="int" resultMap="crowdMap">
	select * 
	  from mn_crowd
	 where cr_no = #{crNo}
</select>

</mapper>